<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReNum</title>
    <meta
      name="description"
      content="Mettez à jour vos contacts béninois en ajoutant automatiquement le préfixe '+229 01' aux numéros de téléphone. Téléchargez et importez facilement votre fichier VCF sur Android et iOS."
    />
    <meta
      name="keywords"
      content="mettre à jour contacts bénin, préfixe +229 01, modifier numéros téléphone béninois, fichier VCF, mise à jour contacts Bénin, contacts Android iOS, ajouter préfixe +229 01"
    />
    <meta name="robots" content="index, follow" />

    <!-- Titre -->
    <title>
      Mettre à jour vos contacts béninois | Préfixe +229 01 pour les numéros de
      téléphone
    </title>

    <!-- Open Graph (Facebook et autres réseaux sociaux) -->
    <meta
      property="og:title"
      content="Mettre à jour vos contacts béninois | Préfixe +229 01 pour les numéros de téléphone"
    />
    <meta
      property="og:description"
      content="Mettez à jour vos contacts béninois en ajoutant automatiquement le préfixe '+229 01' à vos numéros de téléphone. Téléchargez et importez facilement votre fichier VCF sur Android et iOS."
    />
    <meta property="og:image" content="hpreview.png" />
    <meta
      property="og:url"
      content="https://Renum229.github.io#update-section"
    />
    <meta property="og:type" content="website" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Mettre à jour vos contacts béninois | Préfixe +229 01 pour les numéros de téléphone"
    />
    <meta
      name="twitter:description"
      content="Mettez à jour vos contacts béninois en ajoutant automatiquement le préfixe '+229 01' à vos numéros de téléphone. Téléchargez et importez facilement votre fichier VCF sur Android et iOS."
    />
    <meta name="twitter:image" content="preview.png" />

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://Renum229.github.io#update-section" />

    <!-- Schema Markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Mettre à jour vos contacts béninois | Préfixe +229 01",
        "description": "Mettez à jour vos contacts béninois en ajoutant automatiquement le préfixe '+229 01' à vos numéros de téléphone. Téléchargez et importez facilement votre fichier VCF sur Android et iOS.",
        "url": "https://Renum229.github.io#update-section"
      }
    </script>

    <script src="3.4.5"></script>
    <link rel="stylesheet" href="aos.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css"
    />
    <style>
      body {
        scroll-behavior: smooth;
      }

      .hero {
        position: relative;
        height: 100vh; /* Ajuste la hauteur de la section */
        background: linear-gradient(
            rgba(16, 185, 129, 1),
            rgba(16, 185, 129, 0.9)
          ),
          url("bg.jpg");
        background-size: 300px;
        background-position: center;
      }

      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
      }
    </style>
  </head>

  <body class="bg-gray-50 text-gray-800 overflow-x-hidden">
    <!-- Menu -->
    <header class="bg-green-600 text-white shadow-md sticky top-0 z-50">
      <div
        class="container mx-auto flex justify-between items-center py-4 px-6"
      >
        <h1 class="text-xl font-bold flex items-center">
          <img src="renum.png" class="w-9 h-9 mr-1" alt="renum_logo" />ReNum
        </h1>

        <button id="menu-button" class="md:hidden focus:outline-none">
          <i class="ri ri-menu-3-line text-xl" id="menic"></i>
        </button>

        <nav class="space-x-6 hidden md:flex">
          <a href="#hero" class="border-b-2 border-yellow-400">Accueil</a>
          <a
            href="#how-it-works"
            class="relative inline-block border-b-2 border-transparent hover:border-yellow-400 transition-all duration-300 ease-in-out"
            >Comment ça marche</a
          >
          <a
            href="#update-section"
            class="relative inline-block border-b-2 border-transparent hover:border-yellow-400 transition-all duration-300 ease-in-out"
            >Mettre à jour</a
          >
          <a
            href="#tutorial"
            class="relative inline-block border-b-2 border-transparent hover:border-yellow-400 transition-all duration-300 ease-in-out"
            >Tuto</a
          >
        </nav>

        <nav
          id="menu"
          class="absolute bg-green-600 w-full left-0 top-16 hidden"
        >
          <ul class="">
            <a href="#hero" class=""
              ><li class="border-b py-2 px-7 hover:bg-yellow-400">
                Accueil
              </li></a
            >
            <a href="#how-it-works"
              ><li class="border-b py-2 px-7 hover:text-yellow-400">
                Comment ça marche
              </li></a
            >
            <a href="#update-section"
              ><li class="border-b py-2 px-7 hover:text-yellow-400">
                Mettre à jour
              </li></a
            >
            <a href="#tutorial"
              ><li class="border-b py-2 px-7 hover:text-yellow-400">Tuto</li></a
            >
          </ul>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section
      id="hero"
      class="hero text-white h-screen flex flex-col justify-center items-center text-center px-4"
    >
      <div class="w-full heroe-overlay">
        <h1 class="text-4xl font-bold mb-4" data-aos="fade-down">
          Mettez à jour vos contacts avec ReNum
        </h1>
        <p class="text-lg mb-6" data-aos="fade-down" data-aos-delay="200">
          Passez facilement au format +229 01 en quelques clics !
        </p>
        <a
          href="#update-section"
          class="bg-yellow-400 text-white py-3 px-8 rounded-lg shadow-lg transform hover:scale-105 transition-all"
          >Commencer Maintenant <i class="ri ri-arrow-down-line"></i
        ></a>

        <div class="container mx-auto text-center pt-12">
          <div class="flex flex-wrap justify-center items-center gap-8">
            <!-- Logo 1 -->
            <div
              class="flex justify-center items-center overflow-hidden w-20 rounded"
            >
              <img
                src="moov.jpeg"
                alt="Logo-moov_renum"
                class="max-w-full max-h-full"
              />
            </div>
            <!-- Logo 2 -->
            <div
              class="flex justify-center items-center overflow-hidden w-20 rounded"
            >
              <img
                src="mtn.jpg"
                alt="Logo-mtn_renum"
                class="max-w-full max-h-full"
              />
            </div>
            <!-- Logo 3 -->
            <div
              class="flex justify-center items-center overflow-hidden w-20 rounded"
            >
              <img
                src="celtiis.jpg"
                alt="Logo-celtiis_renum"
                class="max-w-full max-h-full"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- How it Works -->
    <section id="how-it-works" class="py-16 bg-white">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold mb-6" data-aos="fade-up">
          Comment ça marche ?
        </h2>
        <div class="grid md:grid-cols-3 gap-8 pl-3 pr-3">
          <div data-aos="fade-up" data-aos-delay="200" class="text-left">
            <h3 class="text-xl font-semibold mb-2">
              <i class="ri ri-number-1 text-xl text-red-500"></i>
            </h3>
            <p>Exportez vos contacts depuis votre téléphone.</p>
          </div>
          <div data-aos="fade-up" data-aos-delay="400" class="text-left">
            <h3 class="text-xl font-semibold mb-2">
              <i class="ri ri-number-2 text-xl text-red-500"></i>
            </h3>
            <p>Chargez le fichier sur la plateforme.</p>
          </div>
          <div data-aos="fade-up" data-aos-delay="600" class="text-left">
            <h3 class="text-xl font-semibold mb-2">
              <i class="ri ri-number-3 text-xl text-red-500"></i>
            </h3>
            <p>Téléchargez la version mise à jour et réimportez-la.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Update Section -->
    <section id="update-section" class="py-16 bg-gray-100">
      <div class="container mx-auto text-center">
        <h2 class="text-3xl font-bold mb-6" data-aos="fade-up">
          Effectuez la mise à jour de vos contacts
        </h2>
        <form
          action="#"
          method="POST"
          id="uploadForm"
          class="p-8 max-w-lg mx-auto"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <div class="mb-4">
            <label for="file" class="block text-gray-700 font-medium mb-2"
              >Importez votre fichier :</label
            >

            <div class="flex w-full items-center justify-center">
              <div class="flex flex-col items-center w-full max-w-lg p-4">
                <!-- File input -->
                <label
                  class="w-full flex flex-col items-center px-4 py-6 bg-white text-blue-500 rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:font-semibold"
                >
                  <svg
                    class="w-8 h-8"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"
                    />
                  </svg>
                  <span class="mt-2 text-base leading-normal" id="file-label"
                    >Sélectionner le fichier VCF</span
                  >
                  <input
                    type="file"
                    class="hidden"
                    accept=".vcf"
                    aria-label="Sélectionner un fichier VCF"
                    id="file-input"
                  />
                </label>
                <!-- Display the selected file name -->
                <div class="mt-4 text-sm text-gray-700" id="file-name"></div>

                <!-- Update button -->
                <button
                  type="submit"
                  class="bg-green-600 text-white mt-5 py-2 px-6 rounded-lg shadow-lg hover:bg-green-700 transition"
                  id="update-btn"
                >
                  Télécharger la mise à jour <i class="ri ri-download-line"></i>
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </section>

    <!-- Tutorial Section -->
    <section id="tutorial" class="py-16 bg-white">
      <div class="container mx-auto">
        <h2 class="text-3xl font-bold text-center mb-6" data-aos="fade-up">
          Tutoriel (Android & iOS)
        </h2>
        <div class="grid md:grid-cols-2 gap-8 pl-3 pr-3">
          <div data-aos="fade-right">
            <h3 class="text-xl font-semibold mb-4">Pour Android</h3>
            <p class="mb-2">
              1. Allez dans les paramètres de votre application Contacts.
            </p>
            <p class="mb-2">2. Exportez vos contacts en fichier .vcf.</p>
            <p class="mb-2">3. Chargez le fichier sur notre plateforme.</p>
            <p>4. Téléchargez et importez la version mise à jour.</p>
          </div>
          <div data-aos="fade-left">
            <h3 class="text-xl font-semibold mb-4">Pour iOS</h3>
            <p class="mb-2">1. Allez dans Réglages > Contacts > Exporter.</p>
            <p class="mb-2">2. Enregistrez le fichier .vcf.</p>
            <p class="mb-2">3. Chargez-le sur notre plateforme.</p>
            <p>4. Téléchargez et importez la version mise à jour.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-green-600 text-white py-6">
      <div class="container mx-auto text-center">
        <p>&copy; 2024 ReNum. Tous droits réservés.</p>
      </div>
    </footer>

    <!-- AOS (Animate on Scroll) -->
    <script src="aos.js"></script>
    <script>
      AOS.init();
      const menuButton = document.getElementById("menu-button");
      const menuic = document.getElementById("menic");
      const menu = document.getElementById("menu");

      menuButton.addEventListener("click", () => {
        menu.classList.toggle("hidden");
        if (menic.classList.contains("ri-menu-3-line")) {
          menic.classList.remove("ri-menu-3-line");
          menic.classList.add("ri-close-fill");
        } else {
          menic.classList.remove("ri-close-fill");
          menic.classList.add("ri-menu-3-line");
        }
      });

      // Fonction pour mettre à jour le texte du label avec le nom du fichier sélectionné
      document
        .getElementById("file-input")
        .addEventListener("change", function () {
          const fileLabel = document.getElementById("file-label");
          const fileNameDisplay = document.getElementById("file-name");

          if (this.files.length > 0) {
            fileLabel.textContent = this.files[0].name;
            fileNameDisplay.textContent = `Fichier sélectionné : ${this.files[0].name}`;
          } else {
            fileLabel.textContent = "Sélectionner un fichier VCF";
            fileNameDisplay.textContent = ""; // Clear file name if no file is selected
          }
        });

      /* Fonction pour le bouton "Mettre à jour"
  document.getElementById('update-btn').addEventListener('click', function () {
      alert('Le fichier VCF a été mis à jour !');
  });*/

      document
        .getElementById("uploadForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const file = document.getElementById("file-input").files[0];
          if (!file) {
            alert("Veuillez sélectionner un fichier VCF");
            return;
          }

          const reader = new FileReader();
          reader.onload = function (e) {
            const vcfData = e.target.result;
            const updatedContacts = parseAndUpdateVCF(vcfData);

            // Affiche le nombre total de contacts dans la console
            console.log(
              `Nombre total de contacts traités : ${updatedContacts.length}`
            );

            const updatedVCF = createVCFFile(updatedContacts);
            downloadFile(updatedVCF, "updated_contacts.vcf");
          };
          reader.readAsText(file);
        });

      function parseAndUpdateVCF(vcfData) {
        const contacts = [];
        const contactRegex = /BEGIN:VCARD[\s\S]*?END:VCARD/g;
        const nameRegex = /FN:(.*?)\r?\n/;
        const telRegex = /TEL;.*?:(.*?)\r?\n/;
        const emailRegex = /EMAIL;.*?:(.*?)\r?\n/;

        const vCards = vcfData.match(contactRegex);
        vCards.forEach((vCard) => {
          const nameMatch = vCard.match(nameRegex);
          const telMatch = vCard.match(telRegex);
          const emailMatch = vCard.match(emailRegex);

          const name = nameMatch ? nameMatch[1] : null;
          const phone = telMatch ? telMatch[1] : null;
          const email = emailMatch ? emailMatch[1] : null;

          if (phone) {
            const cleanedPhone = cleanPhoneNumber(phone);
            if (cleanedPhone) {
              contacts.push({
                name: name,
                phone: cleanedPhone,
                email: email,
              });
            }
          }
        });

        return contacts;
      }

      function cleanPhoneNumber(phone) {
        const phoneDigits = phone.replace(/\D/g, ""); // Supprime tout sauf les chiffres
        const phoneRegex = /^(\+?229|229|0?)(\d{8})$/; // Détecte les numéros béninois valides
        const otherCountryRegex = /^\+?(?!229)\d+/; // Détecte les indicatifs autres que +229

        // Si le numéro a un indicatif étranger, on l'ignore
        if (otherCountryRegex.test(phone)) {
          return null;
        }

        // Vérifie si le numéro est béninois et met à jour
        const match = phone.match(phoneRegex);
        if (match) {
          const phoneNumber = match[2];
          return `+229 01${phoneNumber}`; // Ajoute le +229 01 devant le numéro béninois
        }

        return null; // Ignorer les numéros non valides
      }

      function createVCFFile(contacts) {
        let vcfContent = "";
        contacts.forEach((contact) => {
          vcfContent += "BEGIN:VCARD\nVERSION:3.0\n";
          if (contact.name) {
            vcfContent += `FN:${contact.name}\n`;
          }
          if (contact.phone) {
            vcfContent += `TEL:${contact.phone}\n`;
          }
          if (contact.email) {
            vcfContent += `EMAIL:${contact.email}\n`;
          }
          vcfContent += "END:VCARD\n";
        });

        return vcfContent;
      }

      function downloadFile(content, filename) {
        const blob = new Blob([content], { type: "text/vcard" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = filename;
        link.click();
      }
    </script>
  </body>
</html>
